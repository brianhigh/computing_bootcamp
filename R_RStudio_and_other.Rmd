---
title: "R, RStudio and other tools"
author: "Brian High"
date: "![CC BY-SA 4.0](cc_by-sa_4.png)"
output:
  ioslides_presentation:
    fig_caption: yes
    fig_retina: 1
    fig_width: 5
    fig_height: 3
    keep_md: yes
    smaller: yes
    logo: logo_128.png
---

```{r set_knitr_options, echo=FALSE, message=FALSE}
suppressMessages(library(knitr))
opts_chunk$set(tidy=FALSE, cache=FALSE, echo=TRUE, message=FALSE)
```

## R Language Basics

## Accessing Data

If you just enter a value, R will print it out:

```{r}
1
```

Or you can use the `print()` function instead:

```{r}
print('a')
```

You can store data in memory by assigning values to variables.

```{r}
val <- 1
val
```

## Comments

The `#` is used for comments. Everthing after the `#` will be ignored by R.

```{r}
val    # This is a bad name for a variable because it is not very descriptive.
```

The `#` symbol has several names:

* number sign (Shorthand for No.)
* pound sign (Shorthand for lb.)
* hash (Popular with programmers and in the UK and Ireland.)
* hashtag (As used on social media sites like Twitter.)
* octothorpe (Originated at Bell Labs, possibly as a joke.)

Since programmers generally call it a "hash", we will keep with this tradition.

## Data Types and Classes

The most basic data types are `numeric` (`double` and `integer`), `complex`, 
and `character`. You can view the type of a value with the `typeof()` function:

```{r}
typeof(1)       # "double" -- double precision floating point number
typeof(1L)      # "integer" -- "L" after one or more digits makes it an integer
typeof(1 + 2i)  # "complex" -- a number with real and imaginary components
```

## Data Types and Classes

Characters are entered with quotes around them (single or double quotes).

```{r}
typeof('a')     # "character" -- a non-numeric "string" of text characters
```

If you omit the quotes of an alphanumeric string, R will assume you are 
referring to a variable name.

```{r}
val <- 1
typeof(val)
```

## Data Types and Classes

You can show the "higher order" type of a data object with `class()`.

```{r}
typeof(1)      # double  (the more basic "primative" type)
class(1)       # numeric (the more general "higher order" type)
typeof('a')    # character
class('a')     # character
```

## Testing for Numeric Values

You can test if a value is numeric using the `is.numeric()` function:

```{r}
is.numeric(1)          # TRUE
is.numeric(1L)         # TRUE
is.numeric(1 + 2i)     # FALSE
```

## Testing for Character Values

As before, we quote literal character strings but not variable names.

```{r}
is.character('val')    # TRUE
val <- 1
is.character(val)      # FALSE
```

## Data Structures

R has four basic data structures:

* Vector
* Matrix
* Array
* List

However, the most commonly used data structure is the "Dataframe", based on 
the "List". 

## Vector

The default data structure is a Vector. A vector is a one-dimensional group 
(collection) of one or more values (data elements), all of the same primative 
data type.

```{r}
vec <- 1
```

The `c()` function "concatenates" a collection of values into a vector.

```{r}
vec <- c(1, 2)
vec
is.vector(vec)
```

## Vector

We can save ourselves some typing when working with sequences of integers. 
These are all ways to create equivalent vectors of the digits one through four:

```{r}
c(1L, 2L, 3L, 4L)
1:4
seq(1, 4)
```

## Vector

R will try to "coerce" the values of a vector to a common data type, if necessary.

```{r}
c('a', 1)                # Coerced to "character"
c(1L, 1.1)               # Coerced to "double"
c(1L, 1.1, 1+1i)         # Coerced to "complex"
c('a', 1L, 1.1, 1+1i)    # Coerced to "character"
```

## Matrix

A Matrix is a two-dimensional structure of values, all of the same data type. 
It can be constructed from a Vector, as supplied by the "data" argument for the 
`matrix()` function.

```{r}
mat <- matrix(data = 1:4, nrow = 2)
mat
```

You can also arrange the values by row instead of by column.

```{r}
mat <- matrix(data = 1:4, nrow = 2, byrow = TRUE)
mat
```

## Underlying Structure

The `str()` function may be used to show the underlying data structure.

```{r}
str(mat)
```

This shows that we have a 2x2 structure of the integers 1 through 4.

Let's compare this result with the `typeof()` and `class()` functions:

```{r}
typeof(mat)   # integer (the data type of the primative elements)
class(mat)    # matrix (the higher order data structure)
```

## Array

An Array is a multi-dimensional structure of values, all of the same data type.

```{r}
arr <- array(data = 1:8, dim = c(2, 2, 2))
arr
```

This array was built from a single vector, but split into three dimensions, each
containing 2 elements.

## Array

```{r}
typeof(arr)    # integer
str(arr)
class(arr)     # array
```

## List

A List is a multi-dimensional structure of values, allowing for different data
types in each of it's dimensions.

```{r}
lst <- list(a = 1:3, b = c('i', 'j', 'k'))
lst
```

This list was built from two vectors, which were labeled "a" and "b".

## List

```{r}
typeof(lst)    # list (does not show primative data type since it may vary)
class(lst)     # list (same as result of typeof function)
```

The "class" of the list is shown in the first line of `str()` output. 

```{r}
str(lst)
```

## Naming Array Dimensions with a List

Now that we know about lists, we can see one in action.

```{r}
arr <- array(data = seq(5, 120, 5), dim = c(3, 4, 2), 
             dimnames = list(x=1:3, y=letters[1:4], z=LETTERS[1:2]))
arr
```

## Dataframe

A Dataframe is a multi-dimensional structure of values, allowing multiple data
types. It is implemented as a list. A dataframe is used like a database table 
to store and manipulate tabular data in rows ("observations") and columns 
("variables"). You can think of the columns as vectors, since the values in a 
column must be of the same type.


```{r}
df <- data.frame(a = 1:3, b = c('i', 'j', 'k'))
df
```

## Dataframe

```{r}
typeof(df)     # list
str(df)
```

## Dataframe

By default, "character" values are converted to "factors". We can change this
behavior with `stringsAsFactors = FALSE`.

```{r}
df <- data.frame(a = 1:3, b = c('i', 'j', 'k'), stringsAsFactors = FALSE)
df
```

And we can hide the row numbers using `print()` with `row.names = FALSE`.

```{r}
print(df, row.names = FALSE)
```

## Dataframe

```{r}
typeof(df)    # list
str(df)
```

## Dataframe

We can see that our list, `lst`, has a different class than our dataframe, `df`.

```{r}
class(lst)     # list
class(df)      # data.frame
```

Although a dataframe is implemented as a list, it has additional properties 
which make it very useful for data analysis. Those properties are associated
with the dataframe's "class". As before, `typeof()` shows the lower order 
data type and `class()` shows the higher order data type.
